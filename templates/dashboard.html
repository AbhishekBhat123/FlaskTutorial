<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- <title>Document</title> -->
</head>
<body>
    {% extends 'base.html' %}
    {% block content %}
    {% for msg in 
        get_flashed_messages()%}
        <div class="alert alert-success alert-dismissible fade show" role="alert">
            <strong>Hurray!!!!</strong> Hey {{name}}-{{msg}}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
          </div>
    {% endfor %}
          <h1>Dashboard!</h1>
          
          <br><div class="card">
            <div class="card-header">
                {{current_user.name}}
            </div>
            <div class="card-body">
              <h5 class="card-title">Welcome to your dashboard</h5>
              <p class="card-text">
                
                     <strong>Name:</strong>{{current_user.name}}<br>
                    <strong>UserName:</strong>{{current_user.username}}<br>
                    <strong>DateAdded:</strong>{{current_user.date_added}}<br>
                    <strong>Userid:</strong>{{current_user.id}}<br>
                    <strong>Email:</strong>{{current_user.email}}<br>
                    <strong>FavoriteColor:</strong>{{current_user.favourite_color}}
              </p>
              <a href="{{url_for('logout')}}" class="btn btn-danger">Logout</a>
              <a href="{{url_for('update',id =current_user.id )}}" class="btn btn-secondary">Update Profile</a>
              <a href="{{url_for('delete',id = current_user.id)}}" class="btn btn-primary"> Delete </a>
            </div>
            <div class="card-header">
              Update profile!!
          </div>
          <div class="card-body">
            <form action="/dashboard" method="post">
        
              {{form.hidden_tag()}}
              {{form.name.label (class='form-label') }}
          <!-- contains label of like placeholder  -->
              {{form.name(   class='form-control',value = name_to_update.name )}}
              <!-- usde for displaying name field -->
      
              <br>
      
              {{form.hidden_tag()}}
              {{form.username.label (class='form-label') }}
              {{form.username(   class='form-control',value = name_to_update.username )}}
              <br>
              {{form.hidden_tag()}}
              {{form.email.label (class='form-label') }}
          <!-- contains label of like placeholder  -->
              {{form.email(class='form-control',value = name_to_update.email )}}
              <!-- usde for displaying name field -->
      
              <br>
              {{form.hidden_tag()}}
              {{form.favourite_color.label (class='form-label') }}
          <!-- contains label of like placeholder  -->
              {{form.favourite_color(class='form-control',value = name_to_update.favourite_color )}}
              <!-- usde for displaying name field -->
      
              <br>
      
              {{form.submit( class="btn btn-danger",value="Update")}}
              
           </form>
          </div>
          </div>
    {% endblock %}
</body>
</html>